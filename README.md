# SUDO - AI駆動の数式解説動画自動生成システム

[![IMAGE ALT TEXT HERE](https://jphacks.com/wp-content/uploads/2025/05/JPHACKS2025_ogp.jpg)](https://www.youtube.com/watch?v=lA9EluZugD8)

## 製品概要

### 背景(製品開発のきっかけ、課題等）

#### 課題の概要

- **生徒の課題**
  - 数学の公式や答えばかりを暗記し、数式の意味や“なぜそうなるか”を理解できていない。
  - **エビデンス**：2025年度全国学力テストでは、中学数学「図形証明」問題の無解答率が31.2%に上り、「途中過程や根拠」の説明に苦労する生徒が多いことが報告されている。[【全国学力テスト】数学の図形証明は無解答率3割超、大きな男女差なし](https://reseed.resemom.jp/article/2025/07/31/11410.html)


- **数学講師の課題**
  - 生徒に本質的なイメージや根拠をつかんでもらうために工夫したいが、動きや直感を伝える教材が限られ、動画教材を自作するには多大な負担と専門知識が必要。
  - **実際の現場エピソード**：チームメンバー（塾講師）が、生徒は「三角関数を教える際、多くの生徒が `sin30°=1/2` など“答えの暗記”に留まり、本質的なイメージ（例：単位円）や根拠を伝えきれない」ことに気づいた。

#### 従来教材・動画教材の限界

- 紙のプリントや黒板、静止画像教材では、図形の変形や関数の動きを直感的に伝えられない。
- YouTube動画教材は生徒にとっての「その場」の疑問とずれていることもある。
  - また講師が本当に教えたい内容や重点と違う場面が多々あり、指導現場でも不適切なケースが発生しやすい。
-また、[スタディサプリの学習塾市場から撤退](https://www.shijyukukai.jp/2025/09/28730)が示すように動画教材が「サービス自体のカスタマイズ性不足」「塾ごとの指導方針やカリキュラムに柔軟に対応できない」という課題が学習市場である。
- 加えて**現在の動画生成AIツールでは、教育用・数学専用のアニメーション、数式変形の過程や根拠を表現する細かなカスタマイズが難しく、現場の課題にフィットしない。**
- つまり「動的な可視化」と「細やかな個別カスタマイズ」を同時に実現する“教育現場で使用できるツール”が決定的に不足している。

#### 解決の方向性

- **「公式や答えの暗記」で終わってしまう生徒に、数式や関数・図形の“動き”や“なぜそうなるか”の根拠をアニメーション動画で直感的に伝えられるようにする。**
- **教師・塾講師が、生徒ごと・授業ごとの“その場”の疑問や理解度に合わせて、オリジナルの解説動画を簡単・即時に作れるようにする。**
- **AIとmanimによる自動生成・編集機能で、従来は専門知識や長時間が必要だった教材（動画）作成のハードルを劇的に下げる。**
- **動画生成・編集の工程をすべて直感的なUIで完結させ、誰でも現場のニーズに合わせた数学教材を手軽に作れる環境を提供する。**


### 製品説明（具体的な製品の説明）

**SUDO**は、テキストで入力された数式をAIが解析し、数学アニメーションエンジン「manim」を使って高品質な解説動画を**自動生成**するWebアプリケーションです。

**主な機能フロー:**
1. **テキスト入力**: LaTeX形式の数式を含むテキストをWebフォームから入力
2. **AI解析**: 生成AIが数式の意味を理解し、最適な動画生成プロンプトとmanimコードを自動生成
3. **プロンプト編集**: AIが生成したプロンプトやコードを確認・編集可能
4. **動画生成**: manimエンジンが数式の変形過程をアニメーション化した動画を生成
5. **動画編集**: 生成された動画に対して追加指示を出し、再生成可能

### 特長

#### 1. AI駆動の完全自動化ワークフロー
従来は専門知識が必要だったmanim動画生成を、AIが自動でコード化。テキスト入力だけで、プロ並みの数学動画が数分で完成します。ユーザーは数式の内容に集中するだけで、技術的な部分は全てAIにお任せできます。

#### 2. インタラクティブな編集機能
AIが生成したプロンプトやmanimコードをリアルタイムで確認・編集可能。「図と式が重なっている」「文字サイズを大きくして」といった自然言語での修正指示に対応し、何度でも動画を再生成できます。

#### 3. スマホファーストな設計
レスポンシブデザインにより、PCでもスマホでもストレスフリーに利用可能。通勤中や休み時間など、いつでもどこでも数式解説動画を作成・共有できます。

### 解決出来ること

- **教師の作業時間を90%削減**: 数時間かかっていた動画制作が数分で完了
- **学習効果の向上**: 動的なアニメーションにより、数式の変形過程が直感的に理解できる
- **教育コンテンツの民主化**: 専門的な動画編集スキルがなくても、誰でも高品質な教材を作成可能

### 今後の展望

- **共有機能の実装**: ユーザー同士で作成した動画を共有できるプラットフォーム（数学の単元ごとに整理）
- **音声ナレーション追加**: AIによる自動音声解説の生成
- **多言語対応**: 世界中の学習者に数学教育を届ける
- **リアルタイム共同編集**: 複数人で同時に動画を編集できる機能

### 注力したこと（こだわり等）

* **AIとmanimの融合**: 生成AIの柔軟性と、manimの数学的表現力を組み合わせた独自のワークフロー設計
* **UXの徹底追求**: 複雑な動画生成プロセスを4つのステップに整理し、初心者でも迷わず使える直感的なUI
* **リアルタイムフィードバック**: プロンプト編集から動画生成まで、各段階で結果を確認しながら進められる設計

## 開発技術

### 活用した技術

#### API・データ
* **Gemini API**: プロンプト生成とmanimコード自動生成のためのLLM
* **LaTeX**: 数式のフォーマット・レンダリング
* **TinyTeX**: 軽量なLaTeX処理エンジン

#### フレームワーク・ライブラリ・モジュール
* **Next.js 15.5.4**: フロントエンドフレームワーク（Turbopack採用）
* **React 19.1.0**: UIコンポーネントライブラリ
* **manim (Mathematical Animation Engine)**: 数学動画生成エンジン
* **FastAPI (uvicorn)**: バックエンドAPIフレームワーク
* **Tailwind CSS**: スタイリング
* **TypeScript**: 型安全な開発
* **Biome**: リンター・フォーマッター
* **pnpm**: 高速パッケージマネージャー
* **uv**: Python高速パッケージマネージャー

#### デバイス
* PC（デスクトップ/ノートPC）
* スマートフォン（iOS/Android）
* タブレット

### 独自技術

#### ハッカソンで開発した独自機能・技術

* **AI駆動の動画生成パイプライン**: ユーザー入力テキスト → AIプロンプト生成 → manimコード生成 → 動画レンダリングの一連のフローを完全自動化
  * 実装: [`front/src/app/hooks/useTextAnalysis.ts`](front/src/app/hooks/useTextAnalysis.ts)
  * AIモデルの選定とプロンプトエンジニアリング
  
* **インタラクティブな動画編集システム**: 生成された動画に対して自然言語で修正指示を出し、AIが既存のmanimコードを編集して再生成
  * 実装: [`front/src/components/result/VideoEditDialog.tsx`](front/src/components/result/VideoEditDialog.tsx)
  * 動画編集ロジック: [`front/src/app/hooks/useTextAnalysis.ts`](front/src/app/hooks/useTextAnalysis.ts) の `editVideo` 関数

* **4ステップの状態管理フロー**: Landing → Prompt → Generating → Result の直感的なUI設計
  * 実装: [`front/src/components/VideoGenerationFlow.tsx`](front/src/components/VideoGenerationFlow.tsx)
  * 各状態に応じたコンポーネントの切り替えと、データの受け渡しを設計

* **レスポンシブな数式入力UI**: LaTeX形式に対応し、プレビュー機能付きの入力フォーム
  * 実装: [`front/src/components/landing/MathTextInput.tsx`](front/src/components/landing/MathTextInput.tsx)
