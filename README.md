# Math Video Maker - AI駆動の数式解説動画自動生成システム

[![IMAGE ALT TEXT HERE](https://jphacks.com/wp-content/uploads/2025/05/JPHACKS2025_ogp.jpg)](https://www.youtube.com/watch?v=lA9EluZugD8)

## 製品概要

### 背景(製品開発のきっかけ、課題等）

現代の教育現場では、以下のような課題が存在しています：

- **教師の負担が大きい**: 質の高い数式解説動画を作成するには、動画編集スキルと数時間の制作時間が必要
- **学習者の理解が困難**: 静的なテキストや画像だけでは、数式の変形過程や計算の流れが理解しにくい
- **スマホでの入力障壁**: 数学学習の主戦場がスマートフォンに移行する中、数式入力が困難で学習の妨げになっている

これらの課題を解決し、誰でも簡単に高品質な数式解説動画を作成できる環境を提供したいと考え、本プロダクトを開発しました。

### 製品説明（具体的な製品の説明）

**Math Video Maker**は、テキストで入力された数式をAIが解析し、数学アニメーションエンジン「manim」を使って高品質な解説動画を**自動生成**するWebアプリケーションです。

**主な機能フロー:**
1. **テキスト入力**: LaTeX形式の数式を含むテキストをWebフォームから入力
2. **AI解析**: 生成AIが数式の意味を理解し、最適な動画生成プロンプトとmanimコードを自動生成
3. **プロンプト編集**: AIが生成したプロンプトやコードを確認・編集可能
4. **動画生成**: manimエンジンが数式の変形過程をアニメーション化した動画を生成
5. **動画編集**: 生成された動画に対して追加指示を出し、再生成可能

### 特長

#### 1. AI駆動の完全自動化ワークフロー
従来は専門知識が必要だったmanim動画生成を、AIが自動でコード化。テキスト入力だけで、プロ並みの数学動画が数分で完成します。ユーザーは数式の内容に集中するだけで、技術的な部分は全てAIにお任せできます。

#### 2. インタラクティブな編集機能
AIが生成したプロンプトやmanimコードをリアルタイムで確認・編集可能。「図と式が重なっている」「文字サイズを大きくして」といった自然言語での修正指示に対応し、何度でも動画を再生成できます。

#### 3. スマホファーストな設計
レスポンシブデザインにより、PCでもスマホでもストレスフリーに利用可能。通勤中や休み時間など、いつでもどこでも数式解説動画を作成・共有できます。

### 解決出来ること

- **教師の作業時間を90%削減**: 数時間かかっていた動画制作が数分で完了
- **学習効果の向上**: 動的なアニメーションにより、数式の変形過程が直感的に理解できる
- **教育コンテンツの民主化**: 専門的な動画編集スキルがなくても、誰でも高品質な教材を作成可能

### 今後の展望

- **共有機能の実装**: ユーザー同士で作成した動画を共有できるプラットフォーム（数学の単元ごとに整理）
- **音声ナレーション追加**: AIによる自動音声解説の生成
- **多言語対応**: 世界中の学習者に数学教育を届ける
- **リアルタイム共同編集**: 複数人で同時に動画を編集できる機能

### 注力したこと（こだわり等）

* **AIとmanimの融合**: 生成AIの柔軟性と、manimの数学的表現力を組み合わせた独自のワークフロー設計
* **UXの徹底追求**: 複雑な動画生成プロセスを4つのステップに整理し、初心者でも迷わず使える直感的なUI
* **リアルタイムフィードバック**: プロンプト編集から動画生成まで、各段階で結果を確認しながら進められる設計

## 開発技術

### 活用した技術

#### API・データ
* **Gemini API**: プロンプト生成とmanimコード自動生成のためのLLM
* **LaTeX**: 数式のフォーマット・レンダリング
* **TinyTeX**: 軽量なLaTeX処理エンジン

#### フレームワーク・ライブラリ・モジュール
* **Next.js 15.5.4**: フロントエンドフレームワーク（Turbopack採用）
* **React 19.1.0**: UIコンポーネントライブラリ
* **manim (Mathematical Animation Engine)**: 数学動画生成エンジン
* **FastAPI (uvicorn)**: バックエンドAPIフレームワーク
* **Tailwind CSS**: スタイリング
* **TypeScript**: 型安全な開発
* **Biome**: リンター・フォーマッター
* **pnpm**: 高速パッケージマネージャー
* **uv**: Python高速パッケージマネージャー

#### デバイス
* PC（デスクトップ/ノートPC）
* スマートフォン（iOS/Android）
* タブレット

### 独自技術

#### ハッカソンで開発した独自機能・技術

* **AI駆動の動画生成パイプライン**: ユーザー入力テキスト → AIプロンプト生成 → manimコード生成 → 動画レンダリングの一連のフローを完全自動化
  * 実装: [`front/src/app/hooks/useTextAnalysis.ts`](front/src/app/hooks/useTextAnalysis.ts)
  * AIモデルの選定とプロンプトエンジニアリング
  
* **インタラクティブな動画編集システム**: 生成された動画に対して自然言語で修正指示を出し、AIが既存のmanimコードを編集して再生成
  * 実装: [`front/src/components/result/VideoEditDialog.tsx`](front/src/components/result/VideoEditDialog.tsx)
  * 動画編集ロジック: [`front/src/app/hooks/useTextAnalysis.ts`](front/src/app/hooks/useTextAnalysis.ts) の `editVideo` 関数

* **4ステップの状態管理フロー**: Landing → Prompt → Generating → Result の直感的なUI設計
  * 実装: [`front/src/components/VideoGenerationFlow.tsx`](front/src/components/VideoGenerationFlow.tsx)
  * 各状態に応じたコンポーネントの切り替えと、データの受け渡しを設計

* **レスポンシブな数式入力UI**: LaTeX形式に対応し、プレビュー機能付きの入力フォーム
  * 実装: [`front/src/components/landing/MathTextInput.tsx`](front/src/components/landing/MathTextInput.tsx)
